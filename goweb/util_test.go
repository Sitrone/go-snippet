package main

import (
	"container/list"
	"fmt"
	"testing"
)

func TestHello(t *testing.T) {
	ints := []int{1, 2, 4}
	for k, v := range ints {
		fmt.Println(&k, &v)
	}

	for k, v := range ints[:] {
		fmt.Println(&k, &v)
	}

	for i := 0; i < len(ints); i++ {
		fmt.Println(&ints[i])
	}

	ages := map[string]int{"张三": 15, "李四": 20, "王武": 36}

	for name, age := range ages {
		fmt.Println(&name, &age)
	}
}

func TestLastRemaing(t *testing.T) {
	var (
		n = 5
		m = 3
	)

	fmt.Println(lastRemaining(n, m))

	s := "<\340\271\201\340\270\210\340\271\211\340\270\207\340\271\200\340\270\225\340\270\267\340\270\255\340\270\231 AirPay> \340\270\204\340\270\270\340\270\223\340\271\204\340\270\224\340\271\211\340\270\227\340\270\263\340\270\243\340\270\262\340\270\242\340\270\201\340\270\262\340\270\243\340\270\252\340\270\261\340\271\210\340\270\207\340\270\213\340\270\267\340\271\211\340\270\255\340\271\201\340\270\243\340\270\201\340\270\253\340\270\245\340\270\261\340\270\207\340\270\210\340\270\262\340\270\201\340\270\227\340\270\265\340\271\210\340\270\204\340\270\270\340\270\223\340\271\200\340\270\233\340\270\245\340\270\265\340\271\210\340\270\242\340\270\231\340\270\243\340\270\253\340\270\261\340\270\252\340\270\212\340\270\263\340\270\243\340\270\260\340\271\200\340\270\207\340\270\264\340\270\231\340\270\202\340\270\255\340\270\207\340\270\204\340\270\270\340\270\223\340\271\200\340\270\233\340\271\207\340\270\231\340\270\210\340\270\263\340\270\231\340\270\247\340\270\231 \340\270\27729.00   \340\270\226\340\271\211\340\270\262\340\270\253\340\270\262\340\270\201\340\270\204\340\270\270\340\270\223\340\271\204\340\270\241\340\271\210\340\271\204\340\270\224\340\271\211\340\271\200\340\270\233\340\271\207\340\270\231\340\270\204\340\270\231\340\270\227\340\270\263\340\270\243\340\270\262\340\270\242\340\270\201\340\270\262\340\270\243 \340\270\201\340\270\243\340\270\270\340\270\223\340\270\262\340\270\225\340\270\264\340\270\224\340\270\225\340\271\210\340\270\255 021189170"
	fmt.Println(s)
}

func lastRemaining(n, m int) int {
	if n < 1 || m < 0 {
		return n
	}

	l := list.New()
	for i := 0; i < n; i++ {
		l.PushBack(i)
	}

	for l.Len() != 1 {
		for i := 0; i < m-1; i++ {
			l.MoveAfter(l.Front(), l.Back())
		}

		fmt.Printf("%d ", l.Front().Value.(int))
		l.Remove(l.Front())
	}

	return l.Front().Value.(int)
}
